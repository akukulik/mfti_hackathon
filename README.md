# Проектный практикум МФТИ - Детекция признаков депрессии по постам в социальных сетях
# Telegram Bot for Detecting Signs of Depression in Text

### О проекте

Проект разработан **командой 8**:  
- Артамонов Олег  
- Кулик Анастасия  
- Семерня Элина  

Этот репозиторий содержит код для реализации телеграм-бота, который способен определять признаки депрессии в текстах. Также в репозитории представлен IPYNB-файл для упрощённого доступа к модели.

Для анализа текста используется предобученная модель [deproberta-large-depression](https://huggingface.co/rafalposwiata/deproberta-large-depression), классифицирующая текст на три категории:  
- "Нет депрессии"  
- "Умеренная депрессия"  
- "Сильная депрессия"  

Модель обрабатывает текст на английском языке. Для работы с русскими текстами применяется сервис машинного перевода [Yandex Translate](https://yandex.cloud/ru/services/translate).

Мы реализовали удобный интерфейс взаимодействия через [телеграм-бота @hackathon_mfti_bot](https://t.me/hackathon_mfti_bot).  
Бот принимает текст на русском языке и возвращает:  
- Возможный уровень депрессии  
- F1-скор модели  

---

### Требования

Для работы с проектом установите следующие зависимости:  
```bash
python 3.8+
transformers
simpletransformers
pandas
scikit-learn
tqdm
fastapi
uvicorn
torch
httpx
aiogram
python-dotenv
requests
```

### Быстрый старт

Чтобы быстро запустить модель:

1. **Скачайте Jupyter Notebook**  
   Загрузите файл `deroberta_depression_russian_text.ipynb` на ваш компьютер или откройте его в [Google Colab](https://colab.research.google.com/).  

2. **Установите зависимости**  
   Выполните установку необходимых библиотек из первой ячейки ноутбука
   
3. **Получите токен Yandex Translate**
   Зарегистрируйтесь в [Yandex Cloud](https://yandex.cloud/ru/services/translate), создайте API-ключ для Yandex Translate и сохраните его.

### Разворачивание телеграм-бота

Чтобы развернуть телеграм-бота:

1. **Установите Docker**
   Загрузите и установите Docker с официального сайта: https://www.docker.com/get-started.

2. **Создайте Телеграм-бота**
  Используйте @BotFather, чтобы создать нового бота и получить токен API.

3. **Клонируйте репозиторий**
  Скопируйте проект на ваш локальный компьютер

4. **Настройте переменные окружения**
  Откройте файл .env.example, заполните его, и переименуйте в .env.

5. **Постройте Docker-образ**
  Выполните команду для сборки образа:
  ```docker build -t имя_образа .```

6. **Запустите контейнер**
  Запустите Docker-контейнер:
  ```docker run -d --name имя_контейнера имя_образа```

### Модели
- rafalposwiata/deproberta-large-depression

### Датасеты
- Модель deproberta-large-depression обучалась на корпусе данных Reddit Depression Corpora (https://zenodo.org/records/3941387#.Y5L6O_fMKUl), основанном на 396 968 постов Реддита.








