# Проектный практикум МФТИ - Детекция признаков депрессии по постам в социальных сетях

### О проекте

Проект разработан **командой 8**:  
- Артамонов Олег  
- Кулик Анастасия  
- Семерня Элина  

Этот репозиторий содержит код для реализации телеграм-бота, который способен определять признаки депрессии в текстах. Также в репозитории представлен IPYNB-файл для упрощённого доступа к модели.

Для анализа текста используется предобученная модель [deproberta-large-depression](https://huggingface.co/rafalposwiata/deproberta-large-depression), классифицирующая текст на три категории:  
- "Нет депрессии"  
- "Умеренная депрессия"  
- "Сильная депрессия"  

Модель обрабатывает текст на английском языке. Для работы с русскими текстами применяется сервис машинного перевода [Yandex Translate](https://yandex.cloud/ru/services/translate).

Мы реализовали удобный интерфейс взаимодействия через [телеграм-бота @hackathon_mfti_bot](https://t.me/hackathon_mfti_bot).  
Бот принимает текст на русском языке и возвращает:  
- Возможный уровень депрессии  
- F1-скор модели  

---

### Требования

Для разворачивания необходимо иметь установленный Docker на хост-машине.

### Быстрый старт

Чтобы быстро запустить модель:

1. **Скачайте Jupyter Notebook**  
   Загрузите файл `deroberta_depression_russian_text.ipynb` на ваш компьютер или откройте его в [Google Colab](https://colab.research.google.com/).  

2. **Установите зависимости**  
   Выполните установку необходимых библиотек из первой ячейки ноутбука
   
3. **Получите токен Yandex Translate**  
   Зарегистрируйтесь в [Yandex Cloud](https://yandex.cloud/ru/services/translate), создайте API-ключ для Yandex Translate и сохраните его.

### Разворачивание телеграм-бота и модели

Чтобы развернуть телеграм-бота и модель:

1. **Установите Docker**  
   Загрузите и установите Docker с официального сайта: https://www.docker.com/get-started.

2. **Создайте Телеграм-бота**  
   Используйте @BotFather, чтобы создать нового бота и получить токен API.

3. **Клонируйте репозиторий**  
   Скопируйте проект на ваш локальный компьютер

4. **Настройте переменные окружения**  
   Откройте файл .env.example, заполните его, и переименуйте в .env.

5. **Сборка образов**  
   Выполните команду для сборки образов контейнеров бота и модели:  
   ```make build```

6. **Запустите контейнеры**  
   Запустите Docker-контейнеры, собранных в предыдущем пункте:  
   ```make up```

Благодаря упаковки кода (бота и модели) в контейнеры процесс разворачивания очень упрощен.
Не нужно думать о среде, зависимостях и пакетах, все установится внутри среды контейнеров вне зависимости от системы или платформы выполнения хост-машины.

### Модели
- rafalposwiata/deproberta-large-depression

### Датасеты
- Модель deproberta-large-depression обучалась на корпусе данных [Reddit Depression Corpora](https://zenodo.org/records/3941387#.Y5L6O_fMKUl), основанном на 396 968 постов Реддита.








